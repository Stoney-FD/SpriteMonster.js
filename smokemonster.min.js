if(typeof SmokeMonster=="undefined"){var SmokeMonster={}}if(typeof Modernizr=="undefined"){var Modernizr={}}var objectCount=0,IE=document.all?true:false;function createNewUniqueID(a){objectCount++;return a+"-"+("00000"+objectCount).slice(-5)}String.prototype.format=function(){var c=this;for(var a=0;a<arguments.length;a++){var b=new RegExp("\\{"+a+"\\}","gi");c=c.replace(b,arguments[a])}return c};SmokeMonster.add=function(b,a){if(typeof b=="string"){document.getElementsByTagName(b)[0].appendChild(a)}else{b.appendChild(a)}};SmokeMonster.remove=function(b,a){if(typeof b=="string"){document.getElementsByTagName(b)[0].removeChild(a)}else{b.removeChild(a)}};SmokeMonster.Color=function(h,f,c,d){var e=0;if((typeof(h)!=="undefined")&&(typeof(f)==="undefined")&&(typeof(c)==="undefined")){this.r=h;this.g=h;this.b=h;this.a=1}else{this.r=(typeof(h)==="undefined")?0:h;this.g=(typeof(f)==="undefined")?0:f;this.b=(typeof(c)==="undefined")?0:c;this.a=(typeof(d)==="undefined")?1:d}this.get=function(){if((d>0)&&(d<1)){return"rgba("+this.r+","+this.g+","+this.b+","+this.a+")"}if((d>1)&&(d<255)){e=d/255;return"rgba("+this.r+","+this.g+","+this.b+","+e+")"}else{return"rgb("+this.r+","+this.g+","+this.b+")"}};this.toString=function(){return this.get()};this.toHex=function(){return"#{0}{1}{2}".format(this.r.toString(16),this.g.toString(16),this.b.toString(16))};this.make=function(b,a,g,i){this.r=(typeof(b)==="undefined")?this.r:b;this.g=(typeof(a)==="undefined")?this.g:a;this.b=(typeof(g)==="undefined")?this.b:g;this.a=(typeof(i)==="undefined")?this.a:i}};SmokeMonster.UnitType={stPixel:"px",stPercent:"%"};SmokeMonster.Vector=function(a,c,b){this.type=SmokeMonster.UnitType.stPixel;this.x=(typeof(a)==="undefined")?0:a;this.y=(typeof(c)==="undefined")?0:c;this.z=(typeof(b)==="undefined")?0:b;this.toString=function(){var d="";if(this.x!=0){d=d+"X: "+this.x+this.type+"; "}if(this.y!=0){d=d+"Y: "+this.y+this.type+"; "}if(this.z!=0){d=d+"Z: "+this.z+this.type+"; "}return d};this.multiply=function(d){this.x=this.x*d;this.y=this.y*mulit;this.z=this.z*d};this.make=function(f,e,d){this.x=(typeof(f)==="undefined")?this.x:f;this.y=(typeof(e)==="undefined")?this.y:e;this.z=(typeof(d)==="undefined")?this.z:d}};SmokeMonster.Rect=function(a,d,b,c){this.x=(typeof(a)==="undefined")?0:a;this.y=(typeof(d)==="undefined")?0:d;this.w=(typeof(b)==="undefined")?0:b;this.h=(typeof(c)==="undefined")?0:c;this.toString=function(){return"X: "+this.x+"; Y: "+this.y+"; W: "+this.w+"; H: "+this.h};this.get=function(){return"rect("+this.x+"px, "+this.y+"px, "+this.w+"px, "+this.h+"px)"};this.area=function(){return(2*this.w+2*this.h)};this.isEmpty=function(){if((this.x==0)&&(this.y==0)&&(this.w==0)&&(this.h==0)){return true}else{return false}};this.isSameValue=function(){if((this.x==this.y)&&(this.y==this.w)&&(this.w==this.h)){return true}else{return false}};this.make=function(g,f,h,e){this.x=(typeof(g)==="undefined")?this.x:g;this.y=(typeof(f)==="undefined")?this.y:f;this.w=(typeof(h)==="undefined")?this.w:h;this.h=(typeof(e)==="undefined")?this.h:e}};SmokeMonster.ShadowType={stDefault:"",stInset:"inset",stInner:"inner"};SmokeMonster.Shadow=function(){this.color=new SmokeMonster.Color();this.position=new SmokeMonster.Vector(2,2);this.blur=0;this.spread=0;this.type=SmokeMonster.ShadowType.stDefault;this.visible=false};SmokeMonster.Border=function(){this.width=0;this.style="solid";this.color=new SmokeMonster.Color();this.radius=new SmokeMonster.Rect()};var _Screen=new function(){this.width=0;this.height=0;this.refresh=function(){if(typeof(window.innerWidth)=="number"){if(this.width!=window.innerWidth){this.width=window.innerWidth;changed=true}if(this.height!=window.innerHeight){this.height=window.innerHeight;changed=true}}else{if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){if(this.width!=document.documentElement.clientWidth){this.width=document.documentElement.clientWidth;changed=true}if(this.height!=document.documentElement.clientHeight){this.height=document.documentElement.clientHeight;changed=true}}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){if(this.width!=document.body.clientWidth){this.width=document.body.clientWidth;changed=true}if(this.height!=document.body.clientHeight){this.height=document.body.clientHeight;changed=true}}}}}};SmokeMonster.Screen=_Screen;_Screen.refresh();if(window.addEventListener){window.addEventListener("resize",function(a){_Screen.refresh()},false)}else{if(window.attachEvent){window.attachEvent("onresize",function(a){_Screen.refresh()})}}SmokeMonster.Cursor=new SmokeMonster.Vector();function updateCursor(a){if(IE){SmokeMonster.Cursor.x=window.event.clientX+document.body.scrollLeft;SmokeMonster.Cursor.y=window.event.clientY+document.body.scrollTop}else{SmokeMonster.Cursor.x=a.pageX;SmokeMonster.Cursor.y=a.pageY}}if(!IE){document.captureEvents(Event.MOUSEMOVE)}document.onmousemove=updateCursor;SmokeMonster.Texture=function(){var c=false,b=false,a=0,d=0;this.img=new Image();this.img.onload=function(){c=true;b=false;a=this.width;d=this.height};this.img.onerror=function(){c=false;b=true};this.width=0;this.height=0;this.src="";this.loadFromFile=function(e){this.src=e;this.img.src=e;a=this.img.width;d=this.img.height};this.isLoaded=function(){if(this.width==0){this.width=a}if(this.height==0){this.height=d}return c}};SmokeMonster.ObjectOffset=function(){this.position=new SmokeMonster.Vector();this.transform=new SmokeMonster.Vector(50,50);this.transform.type=SmokeMonster.UnitType.stPercent};SmokeMonster.Container=function(a){var d=new SmokeMonster.Vector(),f="",b="",c=new Array(),e;this.parent=null;this.width=100;this.height=75;if(typeof(a)!="undefined"){if(typeof(a)=="number"){this.width=a;this.height=arg_w}else{this.parent=a;if(typeof(arg_w)=="number"){this.width=arg_w}if(typeof(arg_h)=="number"){this.height=arg_h}}}this.id=createNewUniqueID("container");this.node=document.createElement("div");this.node.id=this.id;SmokeMonster.add("body",this.node);this.alpha=255;this.angle=0;this.backgroundColor=new SmokeMonster.Color(0,0,0,0);this.border=new SmokeMonster.Border();this.cursor="default";this.offset=new SmokeMonster.ObjectOffset();this.position=new SmokeMonster.Vector();this.scale=new SmokeMonster.Vector(1,1);this.skew=new SmokeMonster.Vector(0,0);this.shadow=new SmokeMonster.Shadow();this.sticky=false;this.href="";this.extraParams="";this.extraTransform="";this.visible=true;this.className="";this.click=function(g){if(this.node.addEventListener){this.node.addEventListener("click",g,false)}else{if(this.node.attachEvent){this.node.attachEvent("onclick",g)}}};this.click(function(g){if(e!=""){location.href=e}});this.dblclick=function(g){if(this.node.addEventListener){this.node.addEventListener("dblclick",g,false)}else{if(this.node.attachEvent){this.node.attachEvent("ondblclick",g)}}};this.mousedown=function(g){if(this.node.addEventListener){this.node.addEventListener("mousedown",g,false)}else{if(this.node.attachEvent){this.node.attachEvent("onmousedown",g)}}};this.mousemove=function(g){if(this.node.addEventListener){this.node.addEventListener("mousemove",evtClick,false)}else{if(this.node.attachEvent){this.node.attachEvent("onmousemove",evtClick)}}};this.mouseout=function(g){if(this.node.addEventListener){this.node.addEventListener("mouseout",g,false)}else{if(this.node.attachEvent){this.node.attachEvent("onmouseout",g)}}};this.mouseover=function(g){if(this.node.addEventListener){this.node.addEventListener("mouseover",g,false)}else{if(this.node.attachEvent){this.node.attachEvent("onmouseover",g)}}};this.mouseup=function(g){if(this.node.addEventListener){this.node.addEventListener("mouseup",g,false)}else{if(this.node.attachEvent){this.node.attachEvent("onmouseup",g)}}};this.hover=function(h,g){this.mouseover(h);this.mouseout(g)};this.unclick=function(g){if(this.node.removeEventListener){this.node.removeEventListener("click",g,false)}else{if(this.node.detachEvent){this.node.detachEvent("onclick",g)}}};this.undblclick=function(g){if(this.node.removeEventListener){this.node.removeEventListener("dblclick",g,false)}else{if(this.node.detachEvent){this.node.detachEvent("ondblclick",g)}}};this.unmousedown=function(g){if(this.node.removeEventListener){this.node.removeEventListener("mousedown",g,false)}else{if(this.node.detachEvent){this.node.detachEvent("onmousedown",g)}}};this.unmousemove=function(g){if(this.node.removeEventListener){this.node.removeEventListener("mousemove",evtClick,false)}else{if(this.node.detachEvent){this.node.detachEvent("onmousemove",evtClick)}}};this.unmouseout=function(g){if(this.node.removeEventListener){this.node.removeEventListener("mouseout",g,false)}else{if(this.node.detachEvent){this.node.detachEvent("onmouseout",g)}}};this.unmouseover=function(g){if(this.node.removeEventListener){this.node.removeEventListener("mouseover",g,false)}else{if(this.node.detachEvent){this.node.detachEvent("onmouseover",g)}}};this.unmouseup=function(g){if(this.node.removeEventListener){this.node.removeEventListener("mouseup",g,false)}else{if(this.node.detachEvent){this.node.detachEvent("onmouseup",g)}}};this.unhover=function(h,g){this.unmouseover(h);this.unmouseout(g)};this.addAnimation=function(l,m,k,h){if(typeof(k)=="undefined"){k="linear"}if(typeof(h)=="undefined"){h=0}var g="";switch(l){case"alpha":case"opacity":g="opacity";break;case"position.x":case"left":g="left";break;case"position.y":case"top":g="top";break;case"position.z":g="z-index";break;case"width":g="width";break;case"height":g="height";break;case"all":g="all";break;default:g=l;break}for(var j=0;j<this.getAnimCount();j++){if(c[j]=="{0} {1}ms {2} {3}ms".format(g,m,k,h)){return}}c.push("{0} {1}ms {2} {3}ms".format(g,m,k,h))};this.removeAnimation=function(k,l,j,g){for(var h=0;h<this.getAnimCount();h++){if(c[h]=="{0} {1}ms {2} {3}ms".format(tprop,l,j,g)){c.splice(h,1);return}}};this.getAnimCount=function(){return c.length};this.resetAnimation=function(){c.splice(0,this.getAnimCount())};this.getAbsolutePosition=function(){if(this.parent==null){return this.position}else{return new SmokeMonster.Vector(this.position.x+parent.getAbsolutePosition().x,this.position.y+parent.getAbsolutePosition().y,this.position.z+parent.getAbsolutePosition().z)}};this.draw=function(){if(f!=""){f=""}if(b!=""){b=""}if(!this.visible){f+="display:none;"}if(this.href!=""){this.cursor="pointer";e=this.href}if(this.cursor!="default"){f+="cursor: "+this.cursor+";"}if(this.backgroundColor.a!=0){if(this.backgroundColor.a==255){f+="background: {0} url({1});".format(this.backgroundColor.toHex(),this.texture.src)}else{if(Modernizr.rgba){f+="background: {0} url({1});".format(this.backgroundColor.get(),this.texture.src)}else{f+="background: {0} url({1});".format(this.backgroundColor.toHex(),this.texture.src)}}}if((Modernizr.opacity)&&(this.alpha!=255)){f+="filter:alpha(opacity={0}); -moz-opacity:{1}; -khtml-opacity:{1}; opacity:{1}; ".format(this.alpha,this.alpha/255)}if((this.position.x!=0)||(this.position.y!=0)){if(this.sticky){f+="position:fixed;"}else{f+="position:absolute;"}if(this.position.x!=0){switch(this.position.type){case"px":if(this.offset.position.x!=0){switch(this.offset.position.type){case"px":d.x=this.offset.position.x;break;case"%":d.x=(this.offset.position.x/100)*(this.width*this.scale.x);break}}break;case"%":if(this.offset.position.x!=0){switch(this.offset.position.type){case"px":d.x=(this.offset.position.x/_Screen.width)*100;break;case"%":d.x=(((this.offset.position.x/100)*this.width)/_Screen.width)*100;break}}break}var g=(d.x!=0)?(this.position.x-d.x):this.position.x;f+="left: {0}{1};".format(g,this.position.type)}if(this.position.y!=0){switch(this.position.type){case"px":if(this.offset.position.y!=0){switch(this.offset.position.type){case"px":d.y=this.offset.position.y;break;case"%":d.y=(this.offset.position.y/100)*(this.height*this.scale.y);break}}break;case"%":if(this.offset.position.y!=0){switch(this.offset.position.type){case"px":d.y=(this.offset.position.y/_Screen.height)*100;break;case"%":d.y=(((this.offset.position.y/100)*this.height)/_Screen.height)*100;break}}break}var h=(d.y!=0)?(this.position.y-d.y):this.position.y;f+="top: {0}{1};".format(h,this.position.type)}}if(this.position.z!=0){f+="z-index:{0};".format(this.position.z)}if((Modernizr.boxshadow)&&(this.shadow.visible)){f+="-moz-box-shadow: {0} {1}{2} {3}{2} {4}{2} {5}{2} {6}; -webkit-box-shadow: {0} {1}{2} {3}{2} {4}{2} {5}{2} {6}; box-shadow: {0} {1}{2} {3}{2} {4}{2} {5}{2} {6};".format(this.shadow.type,this.shadow.position.x,this.shadow.position.type,this.shadow.position.y,this.shadow.blur,this.shadow.spread,this.shadow.color.toHex())}if(this.border.width!=0){f+="border:{0}px {1} {2};".format(this.border.width,this.border.style,this.border.color.toHex())}if((Modernizr.borderradius)&&(!this.border.radius.isEmpty())){if(this.border.radius.isSameValue()){f+="border-radius: {0}{1}; -webkit-border-radius: {0}{1}; -moz-border-radius: {0}{1};".format(this.border.radius.x,"px")}else{f+="border-radius: {0}{1} {2}{1} {3}{1} {4}{1}; -webkit-border-radius: {0}{1} {2}{1} {3}{1} {4}{1}; -moz-border-radius: {0}{1} {2}{1} {3}{1} {4}{1};".format(this.border.radius.x,"px",this.border.radius.y,this.border.radius.w,this.border.radius.h)}}if(Modernizr.csstransforms){if((this.angle/360)!=0){b+="rotate({0}deg)".format(this.angle)}switch(this.offset.transform.type){case"%":f+="-moz-transform-origin: {0}{1} {2}{1}; -webkit-transform-origin: {0}{1} {2}{1}; -o-transform-origin: {0}{1} {2}{1}; -ms-transform-origin: {0}{1} {2}{1}; -transform-origin: {0}{1} {2}{1};".format((this.offset.transform.x/100)*this.width,"px",(this.offset.transform.y/100)*this.height);break;default:f+="-moz-transform-origin: {0}{1} {2}{1}; -webkit-transform-origin: {0}{1} {2}{1}; -o-transform-origin: {0}{1} {2}{1}; -ms-transform-origin: {0}{1} {2}{1}; -transform-origin: {0}{1} {2}{1};".format(this.offset.transform.x,this.offset.transform.type,this.offset.transform.y);break}if(this.skew.x!=0){b+=" skewX({0}deg)".format(this.skew.x)}if(this.skew.y!=0){b+=" skewY({0}deg)".format(this.skew.y)}if((this.scale.x!=0)&&(this.scale.x!=1)){b+=" scaleX({0})".format(this.scale.x)}if((this.scale.y!=0)&&(this.scale.y!=1)){b+=" scaleY({0})".format(this.scale.x)}if((b!="")||(this.extraTransform!="")){f+="-moz-transform: {0} {1}; -webkit-transform: {0} {1}; -o-transform: {0} {1}; -ms-transform: {0} {1}; transform: {0} {1};".format(b,this.extraTransform)}}f+="min-width: {0}px; min-height: {1}px; max-width: {0}px; max-height: {1}px; width: {0}px; height: {1}px;".format(this.width+this.border.width,this.height+this.border.width);if((Modernizr.csstransitions)&&(this.getAnimCount()>0)){f+="transition: {0} -webkit-transition: {0} -moz-transition: {0} -o-transition: {0} -ms-transition: {0}".format(c.join(",")+";")}if(this.className!=""){this.node.className=this.className}if(this.extraParams!=""){f+=this.extraParams}this.node.style.cssText=f}};SmokeMonster.Sprite=function(a){var d=new SmokeMonster.Vector(),f="",b="",c=new Array(),e=null;this.id=createNewUniqueID("sprite");this.node=document.createElement("div");this.node.id=this.id;this.parent=a;(typeof(a)=="undefined")?SmokeMonster.add("body",this.node):SmokeMonster.add(a,this.node);this.alpha=255;this.angle=0;this.backgroundColor=new SmokeMonster.Color(0,0,0,0);this.border=new SmokeMonster.Border();this.clipRect=new SmokeMonster.Rect();this.cursor="default";this.offset=new SmokeMonster.ObjectOffset();this.position=new SmokeMonster.Vector();this.scale=new SmokeMonster.Vector(1,1);this.scaleClipRect=false;this.skew=new SmokeMonster.Vector(0,0);this.shadow=new SmokeMonster.Shadow();this.texture=new SmokeMonster.Texture();this.sticky=false;this.href="";this.extraParams="";this.extraTransform="";this.width;this.height;this.visible=true;this.className="";this.loadFromFile=function(h,g){this.texture.loadFromFile(h);this.width=this.texture.width;this.height=this.texture.height;if(typeof g!="undefined"){this.clipRect=g}};this.loadFromTexture=function(h,g){this.texture=h;this.width=h.width;this.height=h.height;if(typeof g!="undefined"){this.clipRect=g}};this.click=function(g){if(this.node.addEventListener){this.node.addEventListener("click",g,false)}else{if(this.node.attachEvent){this.node.attachEvent("onclick",g)}}};this.click(function(g){if((e=="")||(e==null)){return}location.href=e});this.dblclick=function(g){if(this.node.addEventListener){this.node.addEventListener("dblclick",g,false)}else{if(this.node.attachEvent){this.node.attachEvent("ondblclick",g)}}};this.mousedown=function(g){if(this.node.addEventListener){this.node.addEventListener("mousedown",g,false)}else{if(this.node.attachEvent){this.node.attachEvent("onmousedown",g)}}};this.mousemove=function(g){if(this.node.addEventListener){this.node.addEventListener("mousemove",evtClick,false)}else{if(this.node.attachEvent){this.node.attachEvent("onmousemove",evtClick)}}};this.mouseout=function(g){if(this.node.addEventListener){this.node.addEventListener("mouseout",g,false)}else{if(this.node.attachEvent){this.node.attachEvent("onmouseout",g)}}};this.mouseover=function(g){if(this.node.addEventListener){this.node.addEventListener("mouseover",g,false)}else{if(this.node.attachEvent){this.node.attachEvent("onmouseover",g)}}};this.mouseup=function(g){if(this.node.addEventListener){this.node.addEventListener("mouseup",g,false)}else{if(this.node.attachEvent){this.node.attachEvent("onmouseup",g)}}};this.hover=function(h,g){this.mouseover(h);this.mouseout(g)};this.unclick=function(g){if(this.node.removeEventListener){this.node.removeEventListener("click",g,false)}else{if(this.node.detachEvent){this.node.detachEvent("onclick",g)}}};this.undblclick=function(g){if(this.node.removeEventListener){this.node.removeEventListener("dblclick",g,false)}else{if(this.node.detachEvent){this.node.detachEvent("ondblclick",g)}}};this.unmousedown=function(g){if(this.node.removeEventListener){this.node.removeEventListener("mousedown",g,false)}else{if(this.node.detachEvent){this.node.detachEvent("onmousedown",g)}}};this.unmousemove=function(g){if(this.node.removeEventListener){this.node.removeEventListener("mousemove",evtClick,false)}else{if(this.node.detachEvent){this.node.detachEvent("onmousemove",evtClick)}}};this.unmouseout=function(g){if(this.node.removeEventListener){this.node.removeEventListener("mouseout",g,false)}else{if(this.node.detachEvent){this.node.detachEvent("onmouseout",g)}}};this.unmouseover=function(g){if(this.node.removeEventListener){this.node.removeEventListener("mouseover",g,false)}else{if(this.node.detachEvent){this.node.detachEvent("onmouseover",g)}}};this.unmouseup=function(g){if(this.node.removeEventListener){this.node.removeEventListener("mouseup",g,false)}else{if(this.node.detachEvent){this.node.detachEvent("onmouseup",g)}}};this.unhover=function(h,g){this.unmouseover(h);this.unmouseout(g)};this.addAnimation=function(l,m,k,h){if(typeof(k)=="undefined"){k="linear"}if(typeof(h)=="undefined"){h=0}var g="";switch(l){case"alpha":case"opacity":g="opacity";break;case"position.x":case"left":g="left";break;case"position.y":case"top":g="top";break;case"position.z":g="z-index";break;case"width":g="width";break;case"height":g="height";break;case"all":g="all";break;default:g=l;break}for(var j=0;j<this.getAnimCount();j++){if(c[j]=="{0} {1}ms {2} {3}ms".format(g,m,k,h)){return}}c.push("{0} {1}ms {2} {3}ms".format(g,m,k,h))};this.removeAnimation=function(k,l,j,g){for(var h=0;h<this.getAnimCount();h++){if(c[h]=="{0} {1}ms {2} {3}ms".format(tprop,l,j,g)){c.splice(h,1);return}}};this.getAnimCount=function(){return c.length};this.resetAnimation=function(){c.splice(0,this.getAnimCount())};this.getAbsolutePosition=function(){if(this.parent==null){return this.position}else{return new SmokeMonster.Vector(this.position.x+parent.getAbsolutePosition().x,this.position.y+parent.getAbsolutePosition().y,this.position.z+parent.getAbsolutePosition().z)}};this.remove=function(){if(typeof(a)=="string"){SmokeMonster.remove(a,this.node)}else{if(a=="undefined"){SmokeMonster.remove("body",this.node)}else{SmokeMonster.remove(a,this.node)}}};this.draw=function(){if(!this.texture.isLoaded()){return}this.width=(this.clipRect.w!=0)?this.clipRect.w:this.texture.width;this.height=(this.clipRect.h!=0)?this.clipRect.h:this.texture.height;if(f!=""){f=""}if(b!=""){b=""}if(!this.visible){f+="display:none;"}if(this.href!=""){this.cursor="pointer";e=this.href}if(this.cursor!="default"){f+="cursor: "+this.cursor+";"}if(this.backgroundColor.a!=0){if(this.backgroundColor.a==255){f+="background: {0} url({1});".format(this.backgroundColor.toHex(),this.texture.src)}else{if(Modernizr.rgba){f+="background: {0} url({1});".format(this.backgroundColor.get(),this.texture.src)}else{f+="background: {0} url({1});".format(this.backgroundColor.toHex(),this.texture.src)}}}else{f+="background: url({0});".format(this.texture.src)}f+="background-repeat:no-repeat;";if((Modernizr.opacity)&&(this.alpha!=255)){f+="filter:alpha(opacity={0}); -moz-opacity:{1}; -khtml-opacity:{1}; opacity:{1}; ".format((this.alpha/255)*100,this.alpha/255)}if((this.position.x!=0)||(this.position.y!=0)||(this.offset.position.x!=0)||(this.offset.position.y!=0)){if(this.sticky){f+="position:fixed;"}else{f+="position:absolute;"}if(this.position.x!=0){switch(this.position.type){case"px":if(this.offset.position.x!=0){switch(this.offset.position.type){case"px":d.x=this.offset.position.x;break;case"%":d.x=(this.offset.position.x/100)*(this.width*this.scale.x);break}}break;case"%":if(this.offset.position.x!=0){switch(this.offset.position.type){case"px":d.x=(this.offset.position.x/_Screen.width)*100;break;case"%":d.x=(((this.offset.position.x/100)*this.width)/_Screen.width)*100;break}}break}var g=(d.x!=0)?(this.position.x-d.x):this.position.x;f+="left: {0}{1};".format(g,this.position.type)}if(this.position.y!=0){switch(this.position.type){case"px":if(this.offset.position.y!=0){switch(this.offset.position.type){case"px":d.y=this.offset.position.y;break;case"%":d.y=(this.offset.position.y/100)*(this.height*this.scale.y);break}}break;case"%":if(this.offset.position.y!=0){switch(this.offset.position.type){case"px":d.y=(this.offset.position.y/_Screen.height)*100;break;case"%":d.y=(((this.offset.position.y/100)*this.height)/_Screen.height)*100;break}}break}var h=(d.y!=0)?(this.position.y-d.y):this.position.y;f+="top: {0}{1};".format(h,this.position.type)}}if(this.position.z!=0){f+="z-index:{0};".format(this.position.z)}if(!this.clipRect.isEmpty()){if(this.scaleClipRect){if((this.clipRect.x!=0)||(this.clipRect.y!=0)){f+="background-position: {0}px {1}px;".format(-(this.clipRect.x*this.scale.x),-(this.clipRect.y*this.scale.y))}f+="clip:rect({0}px {1}px {2}px {3}px); ".format(0,(this.clipRect.w+this.clipRect.x)*this.scale.x,(this.clipRect.h+this.clipRect.y)*this.scale.y,0)}else{if((this.clipRect.x!=0)||(this.clipRect.y!=0)){f+="background-position: {0}px {1}px;".format(-this.clipRect.x,-this.clipRect.y)}f+="clip:rect({0}px {1}px {2}px {3}px); ".format(0,(this.clipRect.w+this.clipRect.x),(this.clipRect.h+this.clipRect.y),0)}}if((Modernizr.boxshadow)&&(this.shadow.visible)){f+="-moz-box-shadow: {0} {1}{2} {3}{2} {4}{2} {5}{2} {6}; -webkit-box-shadow: {0} {1}{2} {3}{2} {4}{2} {5}{2} {6}; box-shadow: {0} {1}{2} {3}{2} {4}{2} {5}{2} {6};".format(this.shadow.type,this.shadow.position.x,this.shadow.position.type,this.shadow.position.y,this.shadow.blur,this.shadow.spread,this.shadow.color.toHex())}if(this.border.width!=0){f+="border:{0}px {1} {2};".format(this.border.width,this.border.style,this.border.color.toHex())}if((Modernizr.borderradius)&&(!this.border.radius.isEmpty())){if(this.border.radius.isSameValue()){f+="border-radius: {0}{1}; -webkit-border-radius: {0}{1}; -moz-border-radius: {0}{1};".format(this.border.radius.x,"px")}else{f+="border-radius: {0}{1} {2}{1} {3}{1} {4}{1}; -webkit-border-radius: {0}{1} {2}{1} {3}{1} {4}{1}; -moz-border-radius: {0}{1} {2}{1} {3}{1} {4}{1};".format(this.border.radius.x,"px",this.border.radius.y,this.border.radius.w,this.border.radius.h)}}if(Modernizr.csstransforms){if((this.angle/360)!=0){b+="rotate({0}deg)".format(this.angle)}switch(this.offset.transform.type){case"%":f+="-moz-transform-origin: {0}{1} {2}{1}; -webkit-transform-origin: {0}{1} {2}{1}; -o-transform-origin: {0}{1} {2}{1}; -ms-transform-origin: {0}{1} {2}{1}; -transform-origin: {0}{1} {2}{1};".format((this.offset.transform.x/100)*this.width,"px",(this.offset.transform.y/100)*this.height);break;default:f+="-moz-transform-origin: {0}{1} {2}{1}; -webkit-transform-origin: {0}{1} {2}{1}; -o-transform-origin: {0}{1} {2}{1}; -ms-transform-origin: {0}{1} {2}{1}; -transform-origin: {0}{1} {2}{1};".format(this.offset.transform.x,this.offset.transform.type,this.offset.transform.y);break}if(this.skew.x!=0){b+=" skewX({0}deg)".format(this.skew.x)}if(this.skew.y!=0){b+=" skewY({0}deg)".format(this.skew.y)}if((this.scale.x!=0)&&(this.scale.x!=1)){b+=" scaleX({0})".format(this.scale.x)}if((this.scale.y!=0)&&(this.scale.y!=1)){b+=" scaleY({0})".format(this.scale.x)}if((b!="")||(this.extraTransform!="")){f+="-moz-transform: {0} {1}; -webkit-transform: {0} {1}; -o-transform: {0} {1}; -ms-transform: {0} {1}; transform: {0} {1};".format(b,this.extraTransform)}}f+="min-width: {0}px; min-height: {1}px; max-width: {0}px; max-height: {1}px; width: {0}px; height: {1}px;".format(this.width+this.border.width,this.height+this.border.width);if((Modernizr.csstransitions)&&(this.getAnimCount()>0)){f+="transition: {0} -webkit-transition: {0} -moz-transition: {0} -o-transition: {0} -ms-transition: {0}".format(c.join(",")+";")}if(this.className!=""){this.node.className=this.className}if(this.extraParams!=""){f+=this.extraParams}this.node.style.cssText=f}};SmokeMonster.Label=function(a){var b="";this.parent=(typeof(a)=="undefined")?null:a;this.node=document.createElement("div");this.color=new SmokeMonster.Color();this.caption="";this.visible=true;this.draw=function(){}};SmokeMonster.Button=function(a){this.container=new SmokeMonster.Container();this.label=new SmokeMonster.Label();this.parent=null;(typeof(a)=="undefined")?null:a;this.node=document.createElement("div");this.draw=function(){}};SmokeMonster.ImageButton=function(a){};